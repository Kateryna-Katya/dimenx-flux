{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * DIMENX-FLUX: COMPLETE FRONT-END LOGIC\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. ИНИЦИАЛИЗАЦИЯ LUCIDE ICONS\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // 2. ПЛАВНЫЙ СКРОЛЛ (LENIS)\n    const lenis = new Lenis();\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // 3. МОБИЛЬНОЕ МЕНЮ\n    const burger = document.getElementById('burger-btn');\n    const mobileMenu = document.getElementById('mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-nav__link');\n\n    if (burger && mobileMenu) {\n        const toggleMenu = () => {\n            burger.classList.toggle('active');\n            mobileMenu.classList.toggle('active');\n            document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';\n        };\n\n        burger.addEventListener('click', toggleMenu);\n\n        mobileLinks.forEach(link => {\n            link.addEventListener('click', () => {\n                if (mobileMenu.classList.contains('active')) {\n                    toggleMenu();\n                }\n            });\n        });\n    }\n\n    // 4. АНИМАЦИИ (GSAP + SPLITTYPE)\n    gsap.registerPlugin(ScrollTrigger);\n\n    const titleElement = document.querySelector('#hero-title');\n    if (titleElement && typeof SplitType !== 'undefined') {\n        const splitText = new SplitType(titleElement, { types: 'chars, words' });\n        gsap.from(splitText.chars, {\n            opacity: 0,\n            y: 50,\n            rotateX: -90,\n            stagger: 0.03,\n            duration: 1,\n            ease: \"back.out(1.7)\",\n            delay: 0.2\n        });\n    }\n\n    // Общая анимация появления секций\n    gsap.utils.toArray('section').forEach(section => {\n        gsap.from(section, {\n            scrollTrigger: {\n                trigger: section,\n                start: \"top 85%\",\n            },\n            opacity: 0,\n            y: 40,\n            duration: 0.8\n        });\n    });\n\n    // 5. КАПЧА И ФОРМА\n    const form = document.getElementById('main-form');\n    const captchaLabel = document.getElementById('captcha-label');\n    const captchaInput = document.getElementById('captcha-input');\n    const phoneInput = document.getElementById('phone-input');\n    const formMessage = document.getElementById('form-message');\n\n    let num1, num2, answer;\n\n    const generateCaptcha = () => {\n        num1 = Math.floor(Math.random() * 10) + 1;\n        num2 = Math.floor(Math.random() * 10) + 1;\n        answer = num1 + num2;\n        if (captchaLabel) captchaLabel.innerText = `${num1} + ${num2} = ?`;\n        if (captchaInput) captchaInput.value = '';\n    };\n\n    generateCaptcha();\n\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/\\D/g, '');\n        });\n    }\n\n    if (form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            \n            if (parseInt(captchaInput.value) !== answer) {\n                alert('Ошибка в капче! Попробуйте снова.');\n                generateCaptcha();\n                return;\n            }\n\n            const btn = form.querySelector('button');\n            btn.innerText = 'Отправка...';\n            btn.disabled = true;\n\n            setTimeout(() => {\n                form.reset();\n                btn.innerText = 'Начать сейчас';\n                btn.disabled = false;\n                formMessage.innerText = 'Спасибо! Мы свяжемся с вами в течение 15 минут.';\n                formMessage.classList.add('success');\n                formMessage.style.display = 'block';\n                generateCaptcha();\n            }, 1500);\n        });\n    }\n\n    // 6. COOKIE POPUP\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieAccept = document.getElementById('cookie-accept');\n\n    if (cookiePopup && !localStorage.getItem('cookies_ok')) {\n        setTimeout(() => cookiePopup.classList.add('active'), 2500);\n    }\n\n    if (cookieAccept) {\n        cookieAccept.addEventListener('click', () => {\n            localStorage.setItem('cookies_ok', 'true');\n            cookiePopup.classList.remove('active');\n        });\n    }\n\n    // 7. HEADER SCROLL EFFECT\n    window.addEventListener('scroll', () => {\n        const header = document.querySelector('.header');\n        if (window.scrollY > 50) {\n            header.style.padding = '10px 0';\n            header.style.boxShadow = '0 4px 20px rgba(0,0,0,0.1)';\n        } else {\n            header.style.padding = '20px 0';\n            header.style.boxShadow = 'none';\n        }\n    });\n});"],"names":["lenis","raf","time","burger","mobileMenu","mobileLinks","toggleMenu","link","titleElement","splitText","section","form","captchaLabel","captchaInput","phoneInput","formMessage","num1","num2","answer","generateCaptcha","btn","cookiePopup","cookieAccept","header"],"mappings":"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"}